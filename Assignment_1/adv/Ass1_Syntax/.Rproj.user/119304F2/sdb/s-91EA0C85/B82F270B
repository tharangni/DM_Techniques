{
    "collab_server" : "",
    "contents" : "######################################\n#CREATE BENCHMARK MODEL\n#make sure that PreData is loaded in environment - from AggregateData.R\n######################################\n\n######################################\n#Install packages, if not available\n# install.packages(\"ModelMetrics\")\n######################################\n\n######################################\n#Load packages\nlibrary(ModelMetrics)\n######################################\n\n######################################\n#Load helper functions\nsource(\"./Helper_Functions.R\")\n######################################\n\n\n######################################\n#Select only relevant variables for benchmark model\nMoodBench <- PreData[, .(id, date, interp_mood)]\n######################################\n\n\n######################################\n#CREATE BENCHMARK VARIABLES\n\n## BENCHMARK 1 - USE LAG(1)\n#Lag mood variable\nMoodBench$lag.mood <- MoodBench[, .(lag.mood =  shift(interp_mood)), by = id][, 2]\n\n\n#BENCHMARK MODEL 2 - Predict mood of next day by taking \n#the average for the previous 7 days.\n# Create temporary variables\nMoodBench$lag.mood1 <- MoodBench[, .(lag.mood =  shift(interp_mood, n = 1)), \n                                   by = id][, 2]\nMoodBench$lag.mood2 <- MoodBench[, .(lag.mood =  shift(interp_mood, n = 2)),\n                                   by = id][, 2] \nMoodBench$lag.mood3 <- MoodBench[, .(lag.mood =  shift(interp_mood, n = 3)),\n                                   by = id][, 2] \nMoodBench$lag.mood4 <- MoodBench[, .(lag.mood =  shift(interp_mood, n = 4)),\n                                   by = id][, 2] \nMoodBench$lag.mood5 <- MoodBench[, .(lag.mood =  shift(interp_mood, n = 5)),\n                                   by = id][, 2] \nMoodBench$lag.mood6 <- MoodBench[, .(lag.mood =  shift(interp_mood, n = 6)),\n                                   by = id][, 2] \nMoodBench$lag.mood7 <- MoodBench[, .(lag.mood =  shift(interp_mood, n = 7)),\n                                   by = id][, 2] \n\n#Create benchmark variables\nMoodBench[,`:=` (mean.2.previousdays = apply(.SD, 1, mean)),\n          by = id, \n          .SDcols = c(\"lag.mood1\", \"lag.mood2\")]\n\nMoodBench[,`:=` (mean.5.previousdays = apply(.SD, 1, mean)),\n          by = id, \n          .SDcols = c(\"lag.mood1\", \"lag.mood2\", \"lag.mood3\", \"lag.mood4\", \"lag.mood5\")]\n\nMoodBench[,`:=` (mean.7.previousdays = apply(.SD, 1, mean)),\n          by = id, \n          .SDcols = c(\"lag.mood1\", \"lag.mood2\", \"lag.mood3\", \"lag.mood4\", \"lag.mood5\", \"lag.mood6\", \"lag.mood7\")]\n\n\n\n#remove temporary variables\nMoodBench <- MoodBench[, c(\"lag.mood1\", \"lag.mood2\", \"lag.mood3\", \"lag.mood4\", \"lag.mood5\", \"lag.mood6\", \"lag.mood7\") := NULL]\n######################################\n\n\n######################################\n#Create train, validation and test set.\n#Group training and validation data for time series\nSplitData <- splitdata_id(MoodBench)\ntestData <- SplitData[[3]]\n######################################\n\n\n######################################\n#Compare using for 4 benchmark models\n#RMSE\nrmse(actual = testData$interp_mood, predicted = testData$lag.mood)\n# rmse(actual = testData$interp_mood, predicted = testData$mean.2.previousdays)\n# rmse(actual = testData$interp_mood, predicted = testData$mean.5.previousdays)\n# rmse(actual = testData$interp_mood, predicted = testData$mean.7.previousdays)\n\n#Performance\nPerformance(actual = testData$interp_mood, predicted = testData$lag.mood, 0.5)\n# Performance(actual = testData$interp_mood, predicted = testData$mean.2.previousdays, 0.5)\n# Performance(actual = testData$interp_mood, predicted = testData$mean.5.previousdays, 0.5)\n# Performance(actual = testData$interp_mood, predicted = testData$mean.7.previousdays, 0.5)\n######################################\n\n\n######################################\n#Clean environment\nrm(MoodBench, testData)\n######################################\n\n\n\n",
    "created" : 1524139083350.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1522705193",
    "id" : "B82F270B",
    "lastKnownWriteTime" : 1524139128,
    "last_content_update" : 1524139128160,
    "path" : "~/Desktop/Data Mining Techniques/DM_Techniques/Assignment_1/adv/Ass1_Syntax/Model_Benchmark.R",
    "project_path" : "Model_Benchmark.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}